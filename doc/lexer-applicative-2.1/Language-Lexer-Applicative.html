<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Language.Lexer.Applicative</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Language-Lexer-Applicative.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Language-Lexer-Applicative.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">lexer-applicative-2.1: Simple lexer based on applicative regular expressions</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Language.Lexer.Applicative</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Building a Lexer</a><ul><li><a href="#g:2">Building Recognizers</a></li></ul></li><li><a href="#g:3">Running a Lexer</a><ul><li><a href="#g:4">Working with a token stream</a></li></ul></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>For some background, see
 <a href="https://ro-che.info/articles/2015-01-02-lexical-analysis">https://ro-che.info/articles/2015-01-02-lexical-analysis</a></p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:Lexer">Lexer</a> tok = <a href="#v:Lexer">Lexer</a> {<ul class="subs"><li><a href="#v:lexerTokenRE">lexerTokenRE</a> :: <a href="Language-Lexer-Applicative.html#t:Recognizer">Recognizer</a> tok</li><li><a href="#v:lexerWhitespaceRE">lexerWhitespaceRE</a> :: <a href="Language-Lexer-Applicative.html#t:Recognizer">Recognizer</a> ()</li></ul>}</li><li class="src short"><a href="#v:token">token</a> :: <a href="Language-Lexer-Applicative.html#t:Recognizer">Recognizer</a> tok -&gt; <a href="Language-Lexer-Applicative.html#t:Lexer">Lexer</a> tok</li><li class="src short"><a href="#v:whitespace">whitespace</a> :: <a href="Language-Lexer-Applicative.html#t:Recognizer">Recognizer</a> a -&gt; <a href="Language-Lexer-Applicative.html#t:Lexer">Lexer</a> tok</li><li class="src short"><span class="keyword">data</span> <a href="#t:Recognizer">Recognizer</a> tok</li><li class="src short"><a href="#v:longest">longest</a> :: <a href="../regex-applicative-0.3.2.1/Text-Regex-Applicative.html#t:RE">RE</a> <a href="../base-4.8.1.0/Data-Char.html#t:Char">Char</a> tok -&gt; <a href="Language-Lexer-Applicative.html#t:Recognizer">Recognizer</a> tok</li><li class="src short"><a href="#v:longestShortest">longestShortest</a> :: <a href="../regex-applicative-0.3.2.1/Text-Regex-Applicative.html#t:RE">RE</a> <a href="../base-4.8.1.0/Data-Char.html#t:Char">Char</a> pref -&gt; (pref -&gt; <a href="../regex-applicative-0.3.2.1/Text-Regex-Applicative.html#t:RE">RE</a> <a href="../base-4.8.1.0/Data-Char.html#t:Char">Char</a> tok) -&gt; <a href="Language-Lexer-Applicative.html#t:Recognizer">Recognizer</a> tok</li><li class="src short"><a href="#v:runLexer">runLexer</a> :: <span class="keyword">forall</span> tok. <a href="Language-Lexer-Applicative.html#t:Lexer">Lexer</a> tok -&gt; <a href="../base-4.8.1.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.8.1.0/Data-String.html#t:String">String</a> -&gt; <a href="Language-Lexer-Applicative.html#t:TokenStream">TokenStream</a> (<a href="../srcloc-0.5.1.0/Data-Loc.html#t:L">L</a> tok)</li><li class="src short"><span class="keyword">data</span> <a href="#t:TokenStream">TokenStream</a> tok<ul class="subs"><li>= <a href="#v:TsToken">TsToken</a> tok (<a href="Language-Lexer-Applicative.html#t:TokenStream">TokenStream</a> tok)</li><li>| <a href="#v:TsEof">TsEof</a></li><li>| <a href="#v:TsError">TsError</a> <a href="Language-Lexer-Applicative.html#t:LexicalError">LexicalError</a></li></ul></li><li class="src short"><a href="#v:streamToList">streamToList</a> :: <a href="Language-Lexer-Applicative.html#t:TokenStream">TokenStream</a> tok -&gt; [tok]</li><li class="src short"><a href="#v:streamToEitherList">streamToEitherList</a> :: <a href="Language-Lexer-Applicative.html#t:TokenStream">TokenStream</a> tok -&gt; <a href="../base-4.8.1.0/Data-Either.html#t:Either">Either</a> <a href="Language-Lexer-Applicative.html#t:LexicalError">LexicalError</a> [tok]</li><li class="src short"><span class="keyword">data</span> <a href="#t:LexicalError">LexicalError</a> = <a href="#v:LexicalError">LexicalError</a> !<a href="../srcloc-0.5.1.0/Data-Loc.html#t:Pos">Pos</a></li></ul></div><div id="interface"><h1 id="g:1">Building a Lexer</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Lexer" class="def">Lexer</a> tok <a href="src/Language-Lexer-Applicative.html#Lexer" class="link">Source</a></p><div class="doc"><p>A <code><a href="Language-Lexer-Applicative.html#t:Lexer">Lexer</a></code> specification consists of two recognizers: one for
 meaningful tokens and one for whitespace and comments.</p><p>Although you can construct <code><a href="Language-Lexer-Applicative.html#t:Lexer">Lexer</a></code>s directly, it is more convenient to
 build them with <code><a href="Language-Lexer-Applicative.html#v:token">token</a></code>, <code><a href="Language-Lexer-Applicative.html#v:whitespace">whitespace</a></code>, and the <code><a href="../base-4.8.1.0/Data-Monoid.html#t:Monoid">Monoid</a></code> instance like this:</p><pre> myLexer :: <code><a href="Language-Lexer-Applicative.html#t:Lexer">Lexer</a></code> MyToken
 myLexer = <code><a href="../base-4.8.1.0/Data-Monoid.html#v:mconcat">mconcat</a></code>
   [ <code><a href="Language-Lexer-Applicative.html#v:token">token</a></code>      (<code><a href="Language-Lexer-Applicative.html#v:longest">longest</a></code> myToken)
   , <code><a href="Language-Lexer-Applicative.html#v:whitespace">whitespace</a></code> (<code><a href="Language-Lexer-Applicative.html#v:longest">longest</a></code> myWhiteSpace)
   , <code><a href="Language-Lexer-Applicative.html#v:whitespace">whitespace</a></code> (<code><a href="Language-Lexer-Applicative.html#v:longestShortest">longestShortest</a></code> myCommentPrefix myCommentSuffix)
   ]
</pre></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Lexer" class="def">Lexer</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:lexerTokenRE" class="def">lexerTokenRE</a> :: <a href="Language-Lexer-Applicative.html#t:Recognizer">Recognizer</a> tok</dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:lexerWhitespaceRE" class="def">lexerWhitespaceRE</a> :: <a href="Language-Lexer-Applicative.html#t:Recognizer">Recognizer</a> ()</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Lexer" class="caption collapser" onclick="toggleSection('i:Lexer')">Instances</p><div id="section.i:Lexer" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.1.0/Data-Functor.html#t:Functor">Functor</a> <a href="Language-Lexer-Applicative.html#t:Lexer">Lexer</a></span> <a href="src/Language-Lexer-Applicative.html#line-53" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.1.0/Data-Monoid.html#t:Monoid">Monoid</a> (<a href="Language-Lexer-Applicative.html#t:Lexer">Lexer</a> tok)</span> <a href="src/Language-Lexer-Applicative.html#line-55" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:token" class="def">token</a> :: <a href="Language-Lexer-Applicative.html#t:Recognizer">Recognizer</a> tok -&gt; <a href="Language-Lexer-Applicative.html#t:Lexer">Lexer</a> tok <a href="src/Language-Lexer-Applicative.html#token" class="link">Source</a></p><div class="doc"><p>Build a lexer with the given token recognizer and no (i.e. <code><a href="../base-4.8.1.0/Data-Monoid.html#v:mempty">mempty</a></code>)
 whitespace recognizer.</p><p><code><a href="Language-Lexer-Applicative.html#v:token">token</a></code> is a monoid homomorphism:</p><pre><code><a href="Language-Lexer-Applicative.html#v:token">token</a></code> a <code><a href="../base-4.8.1.0/Data-Monoid.html#v:-60--62-">&lt;&gt;</a></code> <code><a href="Language-Lexer-Applicative.html#v:token">token</a></code> b = <code><a href="Language-Lexer-Applicative.html#v:token">token</a></code> (a <code><a href="../base-4.8.1.0/Data-Monoid.html#v:-60--62-">&lt;&gt;</a></code> b)</pre></div></div><div class="top"><p class="src"><a name="v:whitespace" class="def">whitespace</a> :: <a href="Language-Lexer-Applicative.html#t:Recognizer">Recognizer</a> a -&gt; <a href="Language-Lexer-Applicative.html#t:Lexer">Lexer</a> tok <a href="src/Language-Lexer-Applicative.html#whitespace" class="link">Source</a></p><div class="doc"><p>Build a lexer with the given whitespace recognizer and no (i.e. <code><a href="../base-4.8.1.0/Data-Monoid.html#v:mempty">mempty</a></code>)
 token recognizer.</p><p><code><a href="Language-Lexer-Applicative.html#v:whitespace">whitespace</a></code> is a monoid homomorphism:</p><pre><code><a href="Language-Lexer-Applicative.html#v:whitespace">whitespace</a></code> a <code><a href="../base-4.8.1.0/Data-Monoid.html#v:-60--62-">&lt;&gt;</a></code> <code><a href="Language-Lexer-Applicative.html#v:whitespace">whitespace</a></code> b = <code><a href="Language-Lexer-Applicative.html#v:whitespace">whitespace</a></code> (a <code><a href="../base-4.8.1.0/Data-Monoid.html#v:-60--62-">&lt;&gt;</a></code> b)</pre></div></div><h2 id="g:2">Building Recognizers</h2><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Recognizer" class="def">Recognizer</a> tok <a href="src/Language-Lexer-Applicative.html#Recognizer" class="link">Source</a></p><div class="doc"><p>A token recognizer</p><p><code><a href="Language-Lexer-Applicative.html#t:Recognizer">Recognizer</a></code> values are constructed by functions like <code><a href="Language-Lexer-Applicative.html#v:longest">longest</a></code> and
 <code><a href="Language-Lexer-Applicative.html#v:longestShortest">longestShortest</a></code>, combined with <code><a href="../base-4.8.1.0/Data-Monoid.html#v:mappend">mappend</a></code>, and used by <code><a href="Language-Lexer-Applicative.html#v:token">token</a></code> and
 <code><a href="Language-Lexer-Applicative.html#v:whitespace">whitespace</a></code>.</p><p>When a recognizer returns without consuming any characters, a lexical
 error is signaled.</p></div><div class="subs instances"><p id="control.i:Recognizer" class="caption collapser" onclick="toggleSection('i:Recognizer')">Instances</p><div id="section.i:Recognizer" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.1.0/Data-Functor.html#t:Functor">Functor</a> <a href="Language-Lexer-Applicative.html#t:Recognizer">Recognizer</a></span> <a href="src/Language-Lexer-Applicative.html#line-90" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.1.0/Data-Monoid.html#t:Monoid">Monoid</a> (<a href="Language-Lexer-Applicative.html#t:Recognizer">Recognizer</a> tok)</span> <a href="src/Language-Lexer-Applicative.html#line-92" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:longest" class="def">longest</a> :: <a href="../regex-applicative-0.3.2.1/Text-Regex-Applicative.html#t:RE">RE</a> <a href="../base-4.8.1.0/Data-Char.html#t:Char">Char</a> tok -&gt; <a href="Language-Lexer-Applicative.html#t:Recognizer">Recognizer</a> tok <a href="src/Language-Lexer-Applicative.html#longest" class="link">Source</a></p><div class="doc"><p>When scanning a next token, the regular expression will compete with
 the other <code><a href="Language-Lexer-Applicative.html#t:Recognizer">Recognizer</a></code>s of its <code><a href="Language-Lexer-Applicative.html#t:Lexer">Lexer</a></code>. If it wins, its result
 will become the next token.</p><p><code><a href="Language-Lexer-Applicative.html#v:longest">longest</a></code> has the following properties:</p><ul><li><pre><code><a href="Language-Lexer-Applicative.html#v:longest">longest</a></code> (r1 <code><a href="../base-4.8.1.0/Control-Applicative.html#v:-60--124--62-">&lt;|&gt;</a></code> r2) = <code><a href="Language-Lexer-Applicative.html#v:longest">longest</a></code> r1 <code><a href="../base-4.8.1.0/Data-Monoid.html#v:-60--62-">&lt;&gt;</a></code> <code><a href="Language-Lexer-Applicative.html#v:longest">longest</a></code> r2</pre></li><li><pre><code><a href="Language-Lexer-Applicative.html#v:longest">longest</a></code> r = <code><a href="Language-Lexer-Applicative.html#v:longestShortest">longestShortest</a></code> r <code><a href="../base-4.8.1.0/Control-Applicative.html#v:pure">pure</a></code></pre></li></ul></div></div><div class="top"><p class="src"><a name="v:longestShortest" class="def">longestShortest</a> <a href="src/Language-Lexer-Applicative.html#longestShortest" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../regex-applicative-0.3.2.1/Text-Regex-Applicative.html#t:RE">RE</a> <a href="../base-4.8.1.0/Data-Char.html#t:Char">Char</a> pref</td><td class="doc"><p>regex for the longest prefix</p></td></tr><tr><td class="src">-&gt; (pref -&gt; <a href="../regex-applicative-0.3.2.1/Text-Regex-Applicative.html#t:RE">RE</a> <a href="../base-4.8.1.0/Data-Char.html#t:Char">Char</a> tok)</td><td class="doc"><p>regex for the shortest suffix</p></td></tr><tr><td class="src">-&gt; <a href="Language-Lexer-Applicative.html#t:Recognizer">Recognizer</a> tok</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>This is a more sophisticated recognizer than <code><a href="Language-Lexer-Applicative.html#v:longest">longest</a></code>.</p><p>It recognizes a token consisting of a prefix and a suffix, where prefix
 is chosen longest, and suffix is chosen shortest.</p><p>An example would be a C block comment</p><pre>/* comment text */</pre><p>The naive</p><pre><code><a href="Language-Lexer-Applicative.html#v:longest">longest</a></code> (<code><a href="../regex-applicative-0.3.2.1/Text-Regex-Applicative.html#v:string">string</a></code> &quot;/*&quot; <code><a href="../base-4.8.1.0/Control-Applicative.html#v:-42--62-">*&gt;</a></code> <code><a href="../base-4.8.1.0/Control-Applicative.html#v:many">many</a></code> <code><a href="../regex-applicative-0.3.2.1/Text-Regex-Applicative.html#v:anySym">anySym</a></code> <code><a href="../base-4.8.1.0/Control-Applicative.html#v:-42--62-">*&gt;</a></code> <code><a href="../regex-applicative-0.3.2.1/Text-Regex-Applicative.html#v:string">string</a></code> &quot;*/&quot;)</pre><p>doesn't work because it consumes too much: in</p><pre>/* xxx */ yyy /* zzz */</pre><p>it will treat the whole line as a comment.</p><p>This is where <code><a href="Language-Lexer-Applicative.html#v:longestShortest">longestShortest</a></code> comes in handy:</p><pre><code><a href="Language-Lexer-Applicative.html#v:longestShortest">longestShortest</a></code>
   (<code><a href="../regex-applicative-0.3.2.1/Text-Regex-Applicative.html#v:string">string</a></code> &quot;/*&quot;)
   (\_ -&gt; <code><a href="../base-4.8.1.0/Control-Applicative.html#v:many">many</a></code> <code><a href="../regex-applicative-0.3.2.1/Text-Regex-Applicative.html#v:anySym">anySym</a></code> <code><a href="../base-4.8.1.0/Control-Applicative.html#v:-42--62-">*&gt;</a></code> <code><a href="../regex-applicative-0.3.2.1/Text-Regex-Applicative.html#v:string">string</a></code> &quot;*/&quot;)
</pre><p>Operationally, the prefix regex first competes with other <code><a href="Language-Lexer-Applicative.html#t:Recognizer">Recognizer</a></code>s
 for the longest match. If it wins, then the shortest match for the
 suffix regex is found, and the two results are combined with the given
 function to produce a token.</p><p>The two regular expressions combined must consume some input, or else
 <code><a href="Language-Lexer-Applicative.html#t:LexicalError">LexicalError</a></code> is thrown. However, any one of them may return without
 consuming input.</p><p>* * *</p><p>Once the prefix regex wins, the choice is committed; the suffix regex
 must match or else a <code><a href="Language-Lexer-Applicative.html#t:LexicalError">LexicalError</a></code> is thrown. Therefore,</p><pre><code><a href="Language-Lexer-Applicative.html#v:longestShortest">longestShortest</a></code> pref suff1
         <code><a href="../base-4.8.1.0/Data-Monoid.html#v:-60--62-">&lt;&gt;</a></code>
<code><a href="Language-Lexer-Applicative.html#v:longestShortest">longestShortest</a></code> pref suff2
         =
<code><a href="Language-Lexer-Applicative.html#v:longestShortest">longestShortest</a></code> pref suff1
</pre><p>and is not the same as</p><pre><code><a href="Language-Lexer-Applicative.html#v:longestShortest">longestShortest</a></code> pref (suff1 <code><a href="../base-4.8.1.0/Control-Applicative.html#v:-60--124--62-">&lt;|&gt;</a></code> suff2)</pre><p>The following holds, however:</p><pre><code><a href="Language-Lexer-Applicative.html#v:longestShortest">longestShortest</a></code> pref1 suff
         <code><a href="../base-4.8.1.0/Data-Monoid.html#v:-60--62-">&lt;&gt;</a></code>
<code><a href="Language-Lexer-Applicative.html#v:longestShortest">longestShortest</a></code> pref2 suff
         =
<code><a href="Language-Lexer-Applicative.html#v:longestShortest">longestShortest</a></code> (pref1 <code><a href="../base-4.8.1.0/Control-Applicative.html#v:-60--124--62-">&lt;|&gt;</a></code> pref2) suff
</pre></div></div><h1 id="g:3">Running a Lexer</h1><div class="top"><p class="src"><a name="v:runLexer" class="def">runLexer</a> <a href="src/Language-Lexer-Applicative.html#runLexer" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Language-Lexer-Applicative.html#t:Lexer">Lexer</a> tok</td><td class="doc"><p>lexer specification</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.8.1.0/Data-String.html#t:String">String</a></td><td class="doc"><p>source file name (used in locations)</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.8.1.0/Data-String.html#t:String">String</a></td><td class="doc"><p>source text</p></td></tr><tr><td class="src">-&gt; <a href="Language-Lexer-Applicative.html#t:TokenStream">TokenStream</a> (<a href="../srcloc-0.5.1.0/Data-Loc.html#t:L">L</a> tok)</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Run a lexer on a string and produce a lazy stream of tokens</p></div></div><h2 id="g:4">Working with a token stream</h2><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:TokenStream" class="def">TokenStream</a> tok <a href="src/Language-Lexer-Applicative.html#TokenStream" class="link">Source</a></p><div class="doc"><p>A stream of tokens</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:TsToken" class="def">TsToken</a> tok (<a href="Language-Lexer-Applicative.html#t:TokenStream">TokenStream</a> tok)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:TsEof" class="def">TsEof</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:TsError" class="def">TsError</a> <a href="Language-Lexer-Applicative.html#t:LexicalError">LexicalError</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:TokenStream" class="caption collapser" onclick="toggleSection('i:TokenStream')">Instances</p><div id="section.i:TokenStream" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.1.0/Data-Functor.html#t:Functor">Functor</a> <a href="Language-Lexer-Applicative.html#t:TokenStream">TokenStream</a></span> <a href="src/Language-Lexer-Applicative.html#line-197" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.1.0/Data-Eq.html#t:Eq">Eq</a> tok =&gt; <a href="../base-4.8.1.0/Data-Eq.html#t:Eq">Eq</a> (<a href="Language-Lexer-Applicative.html#t:TokenStream">TokenStream</a> tok)</span> <a href="src/Language-Lexer-Applicative.html#line-197" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.1.0/Text-Show.html#t:Show">Show</a> tok =&gt; <a href="../base-4.8.1.0/Text-Show.html#t:Show">Show</a> (<a href="Language-Lexer-Applicative.html#t:TokenStream">TokenStream</a> tok)</span> <a href="src/Language-Lexer-Applicative.html#line-197" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:streamToList" class="def">streamToList</a> :: <a href="Language-Lexer-Applicative.html#t:TokenStream">TokenStream</a> tok -&gt; [tok] <a href="src/Language-Lexer-Applicative.html#streamToList" class="link">Source</a></p><div class="doc"><p>Convert a <code><a href="Language-Lexer-Applicative.html#t:TokenStream">TokenStream</a></code> to a list of tokens. Turn <code><a href="Language-Lexer-Applicative.html#v:TsError">TsError</a></code> into
 a runtime <code><a href="Language-Lexer-Applicative.html#t:LexicalError">LexicalError</a></code> exception.</p></div></div><div class="top"><p class="src"><a name="v:streamToEitherList" class="def">streamToEitherList</a> :: <a href="Language-Lexer-Applicative.html#t:TokenStream">TokenStream</a> tok -&gt; <a href="../base-4.8.1.0/Data-Either.html#t:Either">Either</a> <a href="Language-Lexer-Applicative.html#t:LexicalError">LexicalError</a> [tok] <a href="src/Language-Lexer-Applicative.html#streamToEitherList" class="link">Source</a></p><div class="doc"><p>Convert a <code><a href="Language-Lexer-Applicative.html#t:TokenStream">TokenStream</a></code> into either a token list or a <code><a href="Language-Lexer-Applicative.html#t:LexicalError">LexicalError</a></code>.
 This function may be occasionally useful, but in general its use is
 discouraged because it needs to force the whole stream before returning
 a result.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:LexicalError" class="def">LexicalError</a> <a href="src/Language-Lexer-Applicative.html#LexicalError" class="link">Source</a></p><div class="doc"><p>The lexical error exception</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:LexicalError" class="def">LexicalError</a> !<a href="../srcloc-0.5.1.0/Data-Loc.html#t:Pos">Pos</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:LexicalError" class="caption collapser" onclick="toggleSection('i:LexicalError')">Instances</p><div id="section.i:LexicalError" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.1.0/Data-Eq.html#t:Eq">Eq</a> <a href="Language-Lexer-Applicative.html#t:LexicalError">LexicalError</a></span> <a href="src/Language-Lexer-Applicative.html#line-186" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.1.0/Text-Show.html#t:Show">Show</a> <a href="Language-Lexer-Applicative.html#t:LexicalError">LexicalError</a></span> <a href="src/Language-Lexer-Applicative.html#line-188" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.1.0/Control-Exception-Base.html#t:Exception">Exception</a> <a href="Language-Lexer-Applicative.html#t:LexicalError">LexicalError</a></span> <a href="src/Language-Lexer-Applicative.html#line-190" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>