<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Language.Lua.Parser</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Language-Lua-Parser.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Language-Lua-Parser.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">language-lua-0.1.0.0: Lua parser and pretty printer</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Language.Lua.Parser</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Lua parsers</a></li><li><a href="#g:2">Lua grammars</a></li><li><a href="#g:3">Earley re-exports</a></li></ul></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><a href="#v:parseLua">parseLua</a> :: <a href="../base-4.8.1.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.8.1.0/Data-String.html#t:String">String</a> -&gt; <a href="Language-Lua-Syntax.html#t:Chunk">Chunk</a> <a href="Language-Lua-Parser.html#t:NodeInfo">NodeInfo</a></li><li class="src short"><a href="#v:parseLuaWith">parseLuaWith</a> :: <a href="Language-Lua-Parser.html#t:LuaGrammar">LuaGrammar</a> f -&gt; <a href="../base-4.8.1.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.8.1.0/Data-String.html#t:String">String</a> -&gt; f <a href="Language-Lua-Parser.html#t:NodeInfo">NodeInfo</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:LuaParseException">LuaParseException</a><ul class="subs"><li>= <a href="#v:LuaLexException">LuaLexException</a> !<a href="../srcloc-0.5.1.0/Data-Loc.html#t:Pos">Pos</a></li><li>| <a href="#v:LuaParseException">LuaParseException</a> !(<a href="Language-Lua-Parser.html#t:Report">Report</a> <a href="../base-4.8.1.0/Data-String.html#t:String">String</a> [<a href="../srcloc-0.5.1.0/Data-Loc.html#t:L">L</a> <a href="Language-Lua-Token.html#t:Token">Token</a>])</li><li>| <a href="#v:LuaAmbiguousParseException">LuaAmbiguousParseException</a> !(<a href="Language-Lua-Parser.html#t:Report">Report</a> <a href="../base-4.8.1.0/Data-String.html#t:String">String</a> [<a href="../srcloc-0.5.1.0/Data-Loc.html#t:L">L</a> <a href="Language-Lua-Token.html#t:Token">Token</a>])</li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:LuaGrammar">LuaGrammar</a> f = <span class="keyword">forall</span> r. <a href="../Earley-0.8.3/Text-Earley-Grammar.html#t:Grammar">Grammar</a> r <a href="../base-4.8.1.0/Data-String.html#t:String">String</a> (<a href="../Earley-0.8.3/Text-Earley-Grammar.html#t:Prod">Prod</a> r <a href="../base-4.8.1.0/Data-String.html#t:String">String</a> (<a href="../srcloc-0.5.1.0/Data-Loc.html#t:L">L</a> <a href="Language-Lua-Token.html#t:Token">Token</a>) (f <a href="Language-Lua-Parser.html#t:NodeInfo">NodeInfo</a>))</li><li class="src short"><a href="#v:luaChunk">luaChunk</a> :: <a href="Language-Lua-Parser.html#t:LuaGrammar">LuaGrammar</a> <a href="Language-Lua-Syntax.html#t:Chunk">Chunk</a></li><li class="src short"><a href="#v:luaStatement">luaStatement</a> :: <a href="Language-Lua-Parser.html#t:LuaGrammar">LuaGrammar</a> <a href="Language-Lua-Syntax.html#t:Statement">Statement</a></li><li class="src short"><a href="#v:luaExpression">luaExpression</a> :: <a href="Language-Lua-Parser.html#t:LuaGrammar">LuaGrammar</a> <a href="Language-Lua-Syntax.html#t:Expression">Expression</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:NodeInfo">NodeInfo</a> = <a href="#v:NodeInfo">NodeInfo</a> {<ul class="subs"><li><a href="#v:_nodeLoc">_nodeLoc</a> :: !<a href="../srcloc-0.5.1.0/Data-Loc.html#t:Loc">Loc</a></li><li><a href="#v:_nodeTokens">_nodeTokens</a> :: !(<a href="../containers-0.5.6.2/Data-Sequence.html#t:Seq">Seq</a> (<a href="../srcloc-0.5.1.0/Data-Loc.html#t:L">L</a> <a href="Language-Lua-Token.html#t:Token">Token</a>))</li></ul>}</li><li class="src short"><a href="#v:nodeLoc">nodeLoc</a> :: <a href="../microlens-0.2.0.0/Lens-Micro-Type.html#t:Lens-39-">Lens'</a> <a href="Language-Lua-Parser.html#t:NodeInfo">NodeInfo</a> <a href="../srcloc-0.5.1.0/Data-Loc.html#t:Loc">Loc</a></li><li class="src short"><a href="#v:nodeTokens">nodeTokens</a> :: <a href="../microlens-0.2.0.0/Lens-Micro-Type.html#t:Lens-39-">Lens'</a> <a href="Language-Lua-Parser.html#t:NodeInfo">NodeInfo</a> (<a href="../containers-0.5.6.2/Data-Sequence.html#t:Seq">Seq</a> (<a href="../srcloc-0.5.1.0/Data-Loc.html#t:L">L</a> <a href="Language-Lua-Token.html#t:Token">Token</a>))</li><li class="src short"><span class="keyword">data</span> <a href="#t:Report">Report</a> e i :: * -&gt; * -&gt; * = <a href="#v:Report">Report</a> {<ul class="subs"><li><a href="#v:position">position</a> :: <a href="../base-4.8.1.0/Data-Int.html#t:Int">Int</a></li><li><a href="#v:expected">expected</a> :: [e]</li><li><a href="#v:unconsumed">unconsumed</a> :: i</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:Result">Result</a> s e i a :: * -&gt; * -&gt; * -&gt; * -&gt; *<ul class="subs"><li>= <a href="#v:Ended">Ended</a> (<a href="Language-Lua-Parser.html#t:Report">Report</a> e i)</li><li>| <a href="#v:Parsed">Parsed</a> (<a href="../base-4.8.1.0/Control-Monad-ST.html#t:ST">ST</a> s [a]) <a href="../base-4.8.1.0/Data-Int.html#t:Int">Int</a> i (<a href="../base-4.8.1.0/Control-Monad-ST.html#t:ST">ST</a> s (<a href="Language-Lua-Parser.html#t:Result">Result</a> s e i a))</li></ul></li><li class="src short"><a href="#v:allParses">allParses</a> :: (<span class="keyword">forall</span> s. <a href="../base-4.8.1.0/Control-Monad-ST.html#t:ST">ST</a> s (<a href="Language-Lua-Parser.html#t:Result">Result</a> s e i a)) -&gt; ([(a, <a href="../base-4.8.1.0/Data-Int.html#t:Int">Int</a>)], <a href="Language-Lua-Parser.html#t:Report">Report</a> e i)</li><li class="src short"><a href="#v:fullParses">fullParses</a> :: <a href="../ListLike-4.2.0/Data-ListLike-Base.html#t:ListLike">ListLike</a> i t =&gt; (<span class="keyword">forall</span> s. <a href="../base-4.8.1.0/Control-Monad-ST.html#t:ST">ST</a> s (<a href="Language-Lua-Parser.html#t:Result">Result</a> s e i a)) -&gt; ([a], <a href="Language-Lua-Parser.html#t:Report">Report</a> e i)</li><li class="src short"><a href="#v:parser">parser</a> :: <a href="../ListLike-4.2.0/Data-ListLike-Base.html#t:ListLike">ListLike</a> i t =&gt; (<span class="keyword">forall</span> r. <a href="../Earley-0.8.3/Text-Earley-Grammar.html#t:Grammar">Grammar</a> r e (<a href="../Earley-0.8.3/Text-Earley-Grammar.html#t:Prod">Prod</a> r e t a)) -&gt; i -&gt; <a href="../base-4.8.1.0/Control-Monad-ST.html#t:ST">ST</a> s (<a href="Language-Lua-Parser.html#t:Result">Result</a> s e i a)</li><li class="src short"><a href="#v:report">report</a> :: <a href="../ListLike-4.2.0/Data-ListLike-Base.html#t:ListLike">ListLike</a> i t =&gt; (<span class="keyword">forall</span> s. <a href="../base-4.8.1.0/Control-Monad-ST.html#t:ST">ST</a> s (<a href="Language-Lua-Parser.html#t:Result">Result</a> s e i a)) -&gt; <a href="Language-Lua-Parser.html#t:Report">Report</a> e i</li></ul></div><div id="interface"><h1 id="g:1">Lua parsers</h1><div class="top"><p class="src"><a name="v:parseLua" class="def">parseLua</a> <a href="src/Language-Lua-Parser.html#parseLua" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.8.1.0/Data-String.html#t:String">String</a></td><td class="doc"><p>Source filename (used in locations).</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.8.1.0/Data-String.html#t:String">String</a></td><td class="doc"><p>Source contents.</p></td></tr><tr><td class="src">-&gt; <a href="Language-Lua-Syntax.html#t:Chunk">Chunk</a> <a href="Language-Lua-Parser.html#t:NodeInfo">NodeInfo</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Parse a Lua file. May throw <code><a href="Language-Lua-Parser.html#t:LuaParseException">LuaParseException</a></code>.</p><pre><code><a href="Language-Lua-Parser.html#v:parseLua">parseLua</a></code> = <code><a href="Language-Lua-Parser.html#v:parseLuaWith">parseLuaWith</a></code> <code><a href="Language-Lua-Parser.html#v:luaChunk">luaChunk</a></code>
</pre></div></div><div class="top"><p class="src"><a name="v:parseLuaWith" class="def">parseLuaWith</a> <a href="src/Language-Lua-Parser.html#parseLuaWith" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Language-Lua-Parser.html#t:LuaGrammar">LuaGrammar</a> f</td><td class="doc"><p>Grammar to parse with.</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.8.1.0/Data-String.html#t:String">String</a></td><td class="doc"><p>Source filename (used in locations).</p></td></tr><tr><td class="src">-&gt; <a href="../base-4.8.1.0/Data-String.html#t:String">String</a></td><td class="doc"><p>Source contents.</p></td></tr><tr><td class="src">-&gt; f <a href="Language-Lua-Parser.html#t:NodeInfo">NodeInfo</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Parse Lua code with the given grammar. May throw <code><a href="Language-Lua-Parser.html#t:LuaParseException">LuaParseException</a></code>.</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>parseLuaWith luaExprssion &quot;&quot; &quot;5+5&quot;
</code></strong>Binop
    (NodeInfo
        { nodeLoc    = Loc (Pos &quot;&quot; 1 1 0) (Pos &quot;&quot; 1 3 2)
        , nodeTokens = fromList [TkIntLit &quot;5&quot;,TkPlus,TkIntLit &quot;5&quot;]
        })
    (Plus
        (NodeInfo
            { nodeLoc    = Loc (Pos &quot;&quot; 1 2 1) (Pos &quot;&quot; 1 2 1)
            , nodeTokens = fromList [TkPlus]
            }))
    (Integer
        (NodeInfo
            { nodeLoc    = Loc (Pos &quot;&quot; 1 1 0) (Pos &quot;&quot; 1 1 0)
            , nodeTokens = fromList [TkIntLit &quot;5&quot;]
            })
        &quot;5&quot;)
    (Integer
        (NodeInfo
            { nodeLoc    = Loc (Pos &quot;&quot; 1 3 2) (Pos &quot;&quot; 1 3 2)
            , nodeTokens = fromList [TkIntLit &quot;5&quot;]
            })
         &quot;5&quot;)
</pre><p>All AST nodes are <code><a href="../base-4.8.1.0/Data-Functor.html#t:Functor">Functor</a></code>s over their annotation:</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>(() &lt;$) &lt;$&gt; parseLuaWith luaExpression &quot;&quot; &quot;5+5&quot;
</code></strong>Binop () (Plus ()) (Integer () &quot;5&quot;) (Integer () &quot;5&quot;)
</pre></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:LuaParseException" class="def">LuaParseException</a> <a href="src/Language-Lua-Parser.html#LuaParseException" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:LuaLexException" class="def">LuaLexException</a> !<a href="../srcloc-0.5.1.0/Data-Loc.html#t:Pos">Pos</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:LuaParseException" class="def">LuaParseException</a> !(<a href="Language-Lua-Parser.html#t:Report">Report</a> <a href="../base-4.8.1.0/Data-String.html#t:String">String</a> [<a href="../srcloc-0.5.1.0/Data-Loc.html#t:L">L</a> <a href="Language-Lua-Token.html#t:Token">Token</a>])</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:LuaAmbiguousParseException" class="def">LuaAmbiguousParseException</a> !(<a href="Language-Lua-Parser.html#t:Report">Report</a> <a href="../base-4.8.1.0/Data-String.html#t:String">String</a> [<a href="../srcloc-0.5.1.0/Data-Loc.html#t:L">L</a> <a href="Language-Lua-Token.html#t:Token">Token</a>])</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:LuaParseException" class="caption collapser" onclick="toggleSection('i:LuaParseException')">Instances</p><div id="section.i:LuaParseException" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.1.0/Data-Eq.html#t:Eq">Eq</a> <a href="Language-Lua-Parser.html#t:LuaParseException">LuaParseException</a></span> <a href="src/Language-Lua-Parser.html#line-108" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.1.0/Text-Show.html#t:Show">Show</a> <a href="Language-Lua-Parser.html#t:LuaParseException">LuaParseException</a></span> <a href="src/Language-Lua-Parser.html#line-110" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.1.0/Control-Exception-Base.html#t:Exception">Exception</a> <a href="Language-Lua-Parser.html#t:LuaParseException">LuaParseException</a></span> <a href="src/Language-Lua-Parser.html#line-119" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h1 id="g:2">Lua grammars</h1><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:LuaGrammar" class="def">LuaGrammar</a> f = <span class="keyword">forall</span> r. <a href="../Earley-0.8.3/Text-Earley-Grammar.html#t:Grammar">Grammar</a> r <a href="../base-4.8.1.0/Data-String.html#t:String">String</a> (<a href="../Earley-0.8.3/Text-Earley-Grammar.html#t:Prod">Prod</a> r <a href="../base-4.8.1.0/Data-String.html#t:String">String</a> (<a href="../srcloc-0.5.1.0/Data-Loc.html#t:L">L</a> <a href="Language-Lua-Token.html#t:Token">Token</a>) (f <a href="Language-Lua-Parser.html#t:NodeInfo">NodeInfo</a>)) <a href="src/Language-Lua-Parser.html#LuaGrammar" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:luaChunk" class="def">luaChunk</a> :: <a href="Language-Lua-Parser.html#t:LuaGrammar">LuaGrammar</a> <a href="Language-Lua-Syntax.html#t:Chunk">Chunk</a> <a href="src/Language-Lua-Parser.html#luaChunk" class="link">Source</a></p><div class="doc"><p>Grammar for a Lua chunk; i.e. a Lua compilation unit, defined as a list of
 statements. This is the grammar you should use to parse real Lua code.</p></div></div><div class="top"><p class="src"><a name="v:luaStatement" class="def">luaStatement</a> :: <a href="Language-Lua-Parser.html#t:LuaGrammar">LuaGrammar</a> <a href="Language-Lua-Syntax.html#t:Statement">Statement</a> <a href="src/Language-Lua-Parser.html#luaStatement" class="link">Source</a></p><div class="doc"><p>Grammar for a single Lua statement. Mostly subsumed by <code><a href="Language-Lua-Parser.html#v:luaChunk">luaChunk</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:luaExpression" class="def">luaExpression</a> :: <a href="Language-Lua-Parser.html#t:LuaGrammar">LuaGrammar</a> <a href="Language-Lua-Syntax.html#t:Expression">Expression</a> <a href="src/Language-Lua-Parser.html#luaExpression" class="link">Source</a></p><div class="doc"><p>Grammar for a Lua expression. Provided for smaller REPL-like parsing that
 operates only on expressions.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:NodeInfo" class="def">NodeInfo</a> <a href="src/Language-Lua-Parser.html#NodeInfo" class="link">Source</a></p><div class="doc"><p>AST node source location and constituent tokens. The tokens are provided
 for style-checking purposes; with them, you may assert proper whitespace
 protocol, alignment, trailing commas on table constructors, and whatever
 other subjectivities.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:NodeInfo" class="def">NodeInfo</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:_nodeLoc" class="def">_nodeLoc</a> :: !<a href="../srcloc-0.5.1.0/Data-Loc.html#t:Loc">Loc</a></dt><dd class="doc"><p>Source location; spans the entirety of the node.</p></dd><dt class="src"><a name="v:_nodeTokens" class="def">_nodeTokens</a> :: !(<a href="../containers-0.5.6.2/Data-Sequence.html#t:Seq">Seq</a> (<a href="../srcloc-0.5.1.0/Data-Loc.html#t:L">L</a> <a href="Language-Lua-Token.html#t:Token">Token</a>))</dt><dd class="doc"><p>Parsed tokens involved in node production.</p></dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:NodeInfo" class="caption collapser" onclick="toggleSection('i:NodeInfo')">Instances</p><div id="section.i:NodeInfo" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.1.0/Data-Eq.html#t:Eq">Eq</a> <a href="Language-Lua-Parser.html#t:NodeInfo">NodeInfo</a></span> <a href="src/Language-Lua-Parser.html#line-55" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.1.0/Data-Data.html#t:Data">Data</a> <a href="Language-Lua-Parser.html#t:NodeInfo">NodeInfo</a></span> <a href="src/Language-Lua-Parser.html#line-55" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.1.0/Text-Show.html#t:Show">Show</a> <a href="Language-Lua-Parser.html#t:NodeInfo">NodeInfo</a></span> <a href="src/Language-Lua-Parser.html#line-55" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.1.0/GHC-Generics.html#t:Generic">Generic</a> <a href="Language-Lua-Parser.html#t:NodeInfo">NodeInfo</a></span> <a href="src/Language-Lua-Parser.html#line-55" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.1.0/Data-Monoid.html#t:Monoid">Monoid</a> <a href="Language-Lua-Parser.html#t:NodeInfo">NodeInfo</a></span> <a href="src/Language-Lua-Parser.html#line-57" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="keyword">type</span> <a href="../base-4.8.1.0/GHC-Generics.html#t:Rep">Rep</a> <a href="Language-Lua-Parser.html#t:NodeInfo">NodeInfo</a></span> <a href="src/Language-Lua-Parser.html#line-52" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:nodeLoc" class="def">nodeLoc</a> :: <a href="../microlens-0.2.0.0/Lens-Micro-Type.html#t:Lens-39-">Lens'</a> <a href="Language-Lua-Parser.html#t:NodeInfo">NodeInfo</a> <a href="../srcloc-0.5.1.0/Data-Loc.html#t:Loc">Loc</a> <a href="src/Language-Lua-Parser.html#nodeLoc" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:nodeTokens" class="def">nodeTokens</a> :: <a href="../microlens-0.2.0.0/Lens-Micro-Type.html#t:Lens-39-">Lens'</a> <a href="Language-Lua-Parser.html#t:NodeInfo">NodeInfo</a> (<a href="../containers-0.5.6.2/Data-Sequence.html#t:Seq">Seq</a> (<a href="../srcloc-0.5.1.0/Data-Loc.html#t:L">L</a> <a href="Language-Lua-Token.html#t:Token">Token</a>)) <a href="src/Language-Lua-Parser.html#nodeTokens" class="link">Source</a></p></div><h1 id="g:3"><a href="https://hackage.haskell.org/package/Earley">Earley</a> re-exports</h1><div class="doc"><p>These are provided if you want more control over parsing than what
 <code><a href="Language-Lua-Parser.html#v:parseLua">parseLua</a></code> or <code><a href="Language-Lua-Parser.html#v:parseLuaWith">parseLuaWith</a></code> provides.</p></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Report" class="def">Report</a> e i :: * -&gt; * -&gt; *</p><div class="doc"><p>A parsing report, which contains fields that are useful for presenting
 errors to the user if a parse is deemed a failure.  Note however that we get
 a report even when we successfully parse something.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Report" class="def">Report</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:position" class="def">position</a> :: <a href="../base-4.8.1.0/Data-Int.html#t:Int">Int</a></dt><dd class="doc"><p>The final position in the input (0-based) that the
 parser reached.</p></dd><dt class="src"><a name="v:expected" class="def">expected</a> :: [e]</dt><dd class="doc"><p>The named productions processed at the final
 position.</p></dd><dt class="src"><a name="v:unconsumed" class="def">unconsumed</a> :: i</dt><dd class="doc"><p>The part of the input string that was not consumed,
 which may be empty.</p></dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Report" class="caption collapser" onclick="toggleSection('i:Report')">Instances</p><div id="section.i:Report" class="show"><table><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.1.0/Data-Eq.html#t:Eq">Eq</a> e, <a href="../base-4.8.1.0/Data-Eq.html#t:Eq">Eq</a> i) =&gt; <a href="../base-4.8.1.0/Data-Eq.html#t:Eq">Eq</a> (<a href="Language-Lua-Parser.html#t:Report">Report</a> e i)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.1.0/Data-Ord.html#t:Ord">Ord</a> e, <a href="../base-4.8.1.0/Data-Ord.html#t:Ord">Ord</a> i) =&gt; <a href="../base-4.8.1.0/Data-Ord.html#t:Ord">Ord</a> (<a href="Language-Lua-Parser.html#t:Report">Report</a> e i)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.1.0/Text-Read.html#t:Read">Read</a> e, <a href="../base-4.8.1.0/Text-Read.html#t:Read">Read</a> i) =&gt; <a href="../base-4.8.1.0/Text-Read.html#t:Read">Read</a> (<a href="Language-Lua-Parser.html#t:Report">Report</a> e i)</span></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left">(<a href="../base-4.8.1.0/Text-Show.html#t:Show">Show</a> e, <a href="../base-4.8.1.0/Text-Show.html#t:Show">Show</a> i) =&gt; <a href="../base-4.8.1.0/Text-Show.html#t:Show">Show</a> (<a href="Language-Lua-Parser.html#t:Report">Report</a> e i)</span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Result" class="def">Result</a> s e i a :: * -&gt; * -&gt; * -&gt; * -&gt; *</p><div class="doc"><p>The result of a parse.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Ended" class="def">Ended</a> (<a href="Language-Lua-Parser.html#t:Report">Report</a> e i)</td><td class="doc"><p>The parser ended.</p></td></tr><tr><td class="src"><a name="v:Parsed" class="def">Parsed</a> (<a href="../base-4.8.1.0/Control-Monad-ST.html#t:ST">ST</a> s [a]) <a href="../base-4.8.1.0/Data-Int.html#t:Int">Int</a> i (<a href="../base-4.8.1.0/Control-Monad-ST.html#t:ST">ST</a> s (<a href="Language-Lua-Parser.html#t:Result">Result</a> s e i a))</td><td class="doc"><p>The parser parsed a number of <code>a</code>s.  These are given as a computation,
 <code><code><a href="../base-4.8.1.0/Control-Monad-ST.html#t:ST">ST</a></code> s [a]</code> that constructs the <code>a</code>s when run.  We can thus save some
 work by ignoring this computation if we do not care about the results.
 The <code><a href="../base-4.8.1.0/Data-Int.html#t:Int">Int</a></code> is the position in the input where these results were
 obtained, the <code>i</code> the rest of the input, and the last component is the
 continuation.</p></td></tr></table></div><div class="subs instances"><p id="control.i:Result" class="caption collapser" onclick="toggleSection('i:Result')">Instances</p><div id="section.i:Result" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.1.0/Data-Functor.html#t:Functor">Functor</a> (<a href="Language-Lua-Parser.html#t:Result">Result</a> s e i)</span></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:allParses" class="def">allParses</a> :: (<span class="keyword">forall</span> s. <a href="../base-4.8.1.0/Control-Monad-ST.html#t:ST">ST</a> s (<a href="Language-Lua-Parser.html#t:Result">Result</a> s e i a)) -&gt; ([(a, <a href="../base-4.8.1.0/Data-Int.html#t:Int">Int</a>)], <a href="Language-Lua-Parser.html#t:Report">Report</a> e i)</p><div class="doc"><p>Return all parses from the result of a given parser. The result may
 contain partial parses. The <code><a href="../base-4.8.1.0/Data-Int.html#t:Int">Int</a></code>s are the position at which a result was
 produced.</p></div></div><div class="top"><p class="src"><a name="v:fullParses" class="def">fullParses</a> :: <a href="../ListLike-4.2.0/Data-ListLike-Base.html#t:ListLike">ListLike</a> i t =&gt; (<span class="keyword">forall</span> s. <a href="../base-4.8.1.0/Control-Monad-ST.html#t:ST">ST</a> s (<a href="Language-Lua-Parser.html#t:Result">Result</a> s e i a)) -&gt; ([a], <a href="Language-Lua-Parser.html#t:Report">Report</a> e i)</p><div class="doc"><p>Return all parses that reached the end of the input from the result of a
   given parser.</p></div></div><div class="top"><p class="src"><a name="v:parser" class="def">parser</a> :: <a href="../ListLike-4.2.0/Data-ListLike-Base.html#t:ListLike">ListLike</a> i t =&gt; (<span class="keyword">forall</span> r. <a href="../Earley-0.8.3/Text-Earley-Grammar.html#t:Grammar">Grammar</a> r e (<a href="../Earley-0.8.3/Text-Earley-Grammar.html#t:Prod">Prod</a> r e t a)) -&gt; i -&gt; <a href="../base-4.8.1.0/Control-Monad-ST.html#t:ST">ST</a> s (<a href="Language-Lua-Parser.html#t:Result">Result</a> s e i a)</p><div class="doc"><p>Create a parser from the given grammar.</p></div></div><div class="top"><p class="src"><a name="v:report" class="def">report</a> :: <a href="../ListLike-4.2.0/Data-ListLike-Base.html#t:ListLike">ListLike</a> i t =&gt; (<span class="keyword">forall</span> s. <a href="../base-4.8.1.0/Control-Monad-ST.html#t:ST">ST</a> s (<a href="Language-Lua-Parser.html#t:Result">Result</a> s e i a)) -&gt; <a href="Language-Lua-Parser.html#t:Report">Report</a> e i</p><div class="doc"><p>See e.g. how far the parser is able to parse the input string before it
 fails.  This can be much faster than getting the parse results for highly
 ambiguous grammars.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>